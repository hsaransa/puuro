# Exception helpers

std.type.set_method 'try {<std, a, b>
    prev_exc = active_frame().get_exception_handler;

    new_continuation {<orig>
        active_frame().set_exception_handler prev_exc;
        f = a.call_frame;
        f.set_exception_handler {<exc, cont>
            active_frame().set_exception_handler prev_exc;
            orig.continue (b exc cont);
        };
        orig.continue f.execute;
    };
};

